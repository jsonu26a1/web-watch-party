README
======

an example workflow you might use:
- run `./scripts/build-deps.sh` to compile ffmpeg and it's dependencies to WASM (to generate *.a files) and cache rusty_ffmpeg's binding.rs; should only need to run this once
- run `./scripts/build-crate.sh` to do `cargo build` then `emcc ...` to generate the final *.js and *.wasm artifacts

an overview of all the scripts:
- `./scripts/build-crate.sh`: calls `cargo build` then `./scripts/build-wasm.sh` to generate final build artifacts.
- `./scripts/build-crate-release.sh`: calls `cargo build --release` then `./scripts/build-wasm.sh` to generate final build artifacts.
- `./scripts/build-deps.sh`: builds ffmpeg and it's dependencies; calls all `./scripts/build-[library].sh` scripts and generates bindings.
- `./scripts/build-wasm.sh`: runs `emcc ...` on the staticlib (*.a file) generated by cargo. contains emscripten imports/exports, may require modification. do not call directly.
- `./scripts/test.sh`: TODO not implemented yet
- `./scripts/vars.sh`: defines some shared variables for the `./deps` folder
- `./scripts/deps/build-[library].sh`: configure and build [library] for emscripten environment
  - currently: `ffmpeg`, `libvpx`, `opus`
- `./scripts/deps/generate-bindings.sh`: a nasty hack is required to generate bindings for wasm32-unknown-emscripten, and this config workaround is even nastier. but it works.

Status
------

We still need to finish the build-wasm.sh script; we want to copy the final build artifacts to somewhere convenient, also we need to fix the path for the library.js.
might be a good idea to support test.sh?
